{% extends 'all_pixxies/base.html' %}
{% load static %}

{% block content %}
{{block.super}}



  <div id="carouselExampleSlidesOnly" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item">
        <img src="{% static 'images/BeFunky-photo.png' %}" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="{% static 'images/l3.png' %}" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item active">
        <img src="{% static 'images/l2.png' %}" class="d-block w-100" alt="...">
      </div>
      <!-- -->
    </div>
  </div>

  <div class="container">
    <h3 class="text-center" style="font-family: 'Shrikhand', cursive; font-size:30px; margin-top: 10px;">MY GALLERY</h3>
    <div class="row">

      {% for new_data in all_data %}
      <div class="col-md-4" style="display: flex; flex-direction: row; margin-bottom: 20px; margin-top: 20px;">
          <img src="{{new_data.image_url.url}}" alt="{{image.title}}" width="100%" height="200px" data-toggle="modal" data-target="#extraModal{{new_data.id}}" class="img-responsive">
        </div>
        {% endfor %}

        {% for new_data in all_data %}
        <div class="modal fade" id="extraModal{{new_data.id}}" class="mode" tabindex="-1" role="dialog"
          aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">{{new_data.title}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="col-md-4" style="display: flex; flex-direction: row; margin-bottom: 20px; margin-top: 20px;">
                  <img src="{{new_data.image_url.url}}" alt="{{image.title}}" width="430px" height="300px"  class="img-responsive">
                </div>
                <p>{{new_data.description}}</p>
              </div>
              <div class="modal-footer">
                <input type="text" width="100%" value="{{new_data.image_url.url}}" id="imagelink">
                <button type="button" class="btn btn-outline-warning" onclick="copy()" data-dismiss="modal">Copy</button>
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
        {% empty %}
        <div class="row">
          <h2 class="text-center">There are no Pictures</h2>
        </div>
        {% endfor %}
      </div>
    </div>

    <script>
      function copy(){
    var copyText = document.getElementById("imagelink");
    copyText.select();
    copyText.setSelectionRange(0, 99999)
    document.execCommand("copy");
    alert("Copied the link: " + copyText.value);
}
    </script>
  



  <div class="container" style="margin-top: 20px;margin-bottom: 20px;">
    <h3>Available Locations</h3>
    {% for location in photo_loc %}
    <a class="btn btn-info" href=" /location/{{location.locate}} " id="location">{{ location.locate }}</a>

    {%endfor%}
  </div>
  
  

  {% endblock %}